<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="cn.stylefeng.guns.modular.student.mapper.StudentMapper">

    <resultMap id="student" type="cn.stylefeng.guns.modular.student.entity.Student">
        <id column="studentId" property="student_id"/>
        <result column="name" property="name"/>
        <result column="sex" property="sex"/>
        <result column="age" property="age"/>
        <result column="idCart" property="id_cart"/>
        <result column="phone" property="phone"/>
        <result column="address" property="address"/>
        <result column="politicalStatus" property="political_status"/>
    </resultMap>

    <!-- 导入一群学生 -->
    <insert id="importStudent" parameterType="java.util.List">

        insert into student_info
        (student_id,name,sex,age,id_cart,phone,address,political_status)
        values
        <foreach collection="list" item="student" index="index" separator=",">
            (
            #{student.studentId},
            #{student.name},
            #{student.sex},
            #{student.age},
            #{student.idCart},
            #{student.phone},
            #{student.address},
            #{student.politicalStatus}
            )
        </foreach>
    </insert>
    <!--查询学生信息-->
    <select id="selectStudent" resultType="cn.stylefeng.guns.modular.student.entity.Student">
        select student_id,name,sex,age,id_cart,phone,address,political_status from student_info
        <if test="studentId != null and studentId != ''">
            where student_id = #{studentId}
        </if>
    </select>
    <!--    删除学生-->
    <delete id="deleteStudent">
        delete from student_info where student_id = #{studentId}
    </delete>

    <!--   更新学生信息-->
    <update id="updateStudent">
        update student_info SET
            name = #{name},
            sex = #{sex},
            age = #{age},
            id_cart = #{idCart},
            phone = #{phone},
            address = #{address},
            political_status = #{politicalStatus}
        where
        student_id = #{studentId}
    </update>
</mapper>